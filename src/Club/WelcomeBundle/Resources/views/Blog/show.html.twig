{% extends "ClubWelcomeBundle::base.html.twig" %}

{% block body %}
<h3>{{ blog.title }}</h3>
<h6>{% trans with {'%date%':blog.createdAt|club_datetime,'%author%':blog.user.name} %}Posted on %date% by %author%.{% endtrans %}</h6>

{% if blog.user == app.user %}
{% include "ClubLayoutBundle:Default:edit_link.html.twig" with {'url':path('club_welcome_blog_edit', {'id':blog.id})} %}
{% include "ClubLayoutBundle:Default:delete_link.html.twig" with {'url':path('club_welcome_blog_delete', {'id':blog.id})} %}
{% endif %}

{% if is_granted('IS_AUTHENTICATED_FULLY') %}
{% include "ClubLayoutBundle:Default:comment_link.html.twig" with {'url':path('club_welcome_blog_comment', {'blog_id':blog.id})} %}
{% endif %}
<p>{{ blog.message|raw }}</p>

<hr>

<h4>{% trans %}Comments{% endtrans %}</h4>
{% for comment in blog.comments %}
<h6>{% trans with {'%date%':comment.createdAt|club_datetime,'%author%':comment.user.name} %}Posted on %date% by %author%.{% endtrans %}</h6>
<p>{{ comment.comment|raw }}</p>
{% else %}
<p>{% trans %}There are no comments for this blog.{% endtrans %}</p>
{% endfor %}

{% endblock %}
